{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\front end\\\\homework\\\\REACT\\\\f\\\\src\\\\components\\\\booklist\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport classes from \"./styles.module.scss\";\nimport BooksContext from '../context';\nimport { fetchBooks } from \"../../redux\";\nimport BookListItem from '../book-list-item';\nimport Spinner from '../spinner';\nimport ErrorIndicator from '../error-indicator';\nimport { addBookToCart } from '../../redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Booklist = _ref => {\n  let {\n    books,\n    addBookToCart\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"ul\", {\n    className: classes.book_list,\n    children: books.map(book => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(BookListItem, {\n          book: book,\n          addBookToCart: addBookToCart\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 11\n        }, this), \" \"]\n      }, `books-${book.id}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 18\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Booklist;\n\nconst BookListContainer = _ref2 => {\n  _s();\n\n  let {\n    books,\n    loading,\n    error,\n    fetchBooks,\n    addBookToCart\n  } = _ref2;\n  const service = useContext(BooksContext);\n  useEffect(() => {\n    fetchBooks(service.getBooks);\n  }, [fetchBooks, service.getBooks]);\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(ErrorIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Booklist, {\n    books: books,\n    addBookToCart: addBookToCart\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 10\n  }, this);\n};\n\n_s(BookListContainer, \"heFWIhQC2cMewjxFH9W8DrRT0uQ=\");\n\n_c2 = BookListContainer;\n\nconst mapStateToProps = _ref3 => {\n  let {\n    books,\n    error,\n    loading\n  } = _ref3;\n  return {\n    books,\n    error,\n    loading\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchBooks: service => fetchBooks(dispatch, service),\n    addBookToCart: bookid => dispatch(addBookToCart(bookid))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BookListContainer);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Booklist\");\n$RefreshReg$(_c2, \"BookListContainer\");","map":{"version":3,"names":["React","useContext","useEffect","connect","classes","BooksContext","fetchBooks","BookListItem","Spinner","ErrorIndicator","addBookToCart","Booklist","books","book_list","map","book","id","BookListContainer","loading","error","service","getBooks","mapStateToProps","mapDispatchToProps","dispatch","bookid"],"sources":["C:/Users/user/Desktop/front end/homework/REACT/f/src/components/booklist/index.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport {connect} from 'react-redux';\nimport classes from \"./styles.module.scss\";\nimport BooksContext from '../context';\nimport {fetchBooks} from \"../../redux\";\nimport BookListItem from '../book-list-item';\nimport Spinner from '../spinner';\nimport ErrorIndicator from '../error-indicator';\nimport { addBookToCart } from '../../redux';\n\n\n\nconst Booklist = ({books, addBookToCart}) => {\n  \n  return (\n    <ul className={classes.book_list}>\n\n      {books.map((book) => {\n          return <li key = {`books-${book.id}`}> \n          <BookListItem book={book} addBookToCart={addBookToCart} /> </li>\n      })}\n    </ul>\n  )\n};\n\nconst BookListContainer = ({books, loading, error, fetchBooks, addBookToCart}) => {\n  const service = useContext(BooksContext);\n\n  useEffect(() => {\n    fetchBooks(service.getBooks)\n  }, [fetchBooks, service.getBooks]);\n\n  if(loading) {\n    return <Spinner/>\n  }\n\n  if (error) {\n    return <ErrorIndicator/>\n  }\n\n  return <Booklist books={books} addBookToCart={addBookToCart}/>\n};\n\nconst mapStateToProps = ({books, error, loading}) => {\n    return {\n        books,\n        error, \n        loading\n    };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return{\n    fetchBooks: (service) => fetchBooks(dispatch, service),\n    addBookToCart: (bookid) => dispatch(addBookToCart(bookid)),\n    \n  }\n};\n\n\nexport default connect(mapStateToProps, mapDispatchToProps) (BookListContainer);"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,SAAQC,UAAR,QAAyB,aAAzB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AACA,SAASC,aAAT,QAA8B,aAA9B;;;AAIA,MAAMC,QAAQ,GAAG,QAA4B;EAAA,IAA3B;IAACC,KAAD;IAAQF;EAAR,CAA2B;EAE3C,oBACE;IAAI,SAAS,EAAEN,OAAO,CAACS,SAAvB;IAAA,UAEGD,KAAK,CAACE,GAAN,CAAWC,IAAD,IAAU;MACjB,oBAAO;QAAA,wBACP,QAAC,YAAD;UAAc,IAAI,EAAEA,IAApB;UAA0B,aAAa,EAAEL;QAAzC;UAAA;UAAA;UAAA;QAAA,QADO;MAAA,GAAY,SAAQK,IAAI,CAACC,EAAG,EAA5B;QAAA;QAAA;QAAA;MAAA,QAAP;IAEH,CAHA;EAFH;IAAA;IAAA;IAAA;EAAA,QADF;AASD,CAXD;;KAAML,Q;;AAaN,MAAMM,iBAAiB,GAAG,SAAwD;EAAA;;EAAA,IAAvD;IAACL,KAAD;IAAQM,OAAR;IAAiBC,KAAjB;IAAwBb,UAAxB;IAAoCI;EAApC,CAAuD;EAChF,MAAMU,OAAO,GAAGnB,UAAU,CAACI,YAAD,CAA1B;EAEAH,SAAS,CAAC,MAAM;IACdI,UAAU,CAACc,OAAO,CAACC,QAAT,CAAV;EACD,CAFQ,EAEN,CAACf,UAAD,EAAac,OAAO,CAACC,QAArB,CAFM,CAAT;;EAIA,IAAGH,OAAH,EAAY;IACV,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,IAAIC,KAAJ,EAAW;IACT,oBAAO,QAAC,cAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,oBAAO,QAAC,QAAD;IAAU,KAAK,EAAEP,KAAjB;IAAwB,aAAa,EAAEF;EAAvC;IAAA;IAAA;IAAA;EAAA,QAAP;AACD,CAhBD;;GAAMO,iB;;MAAAA,iB;;AAkBN,MAAMK,eAAe,GAAG,SAA6B;EAAA,IAA5B;IAACV,KAAD;IAAQO,KAAR;IAAeD;EAAf,CAA4B;EACjD,OAAO;IACHN,KADG;IAEHO,KAFG;IAGHD;EAHG,CAAP;AAKH,CAND;;AAQA,MAAMK,kBAAkB,GAAIC,QAAD,IAAc;EACvC,OAAM;IACJlB,UAAU,EAAGc,OAAD,IAAad,UAAU,CAACkB,QAAD,EAAWJ,OAAX,CAD/B;IAEJV,aAAa,EAAGe,MAAD,IAAYD,QAAQ,CAACd,aAAa,CAACe,MAAD,CAAd;EAF/B,CAAN;AAKD,CAND;;AASA,eAAetB,OAAO,CAACmB,eAAD,EAAkBC,kBAAlB,CAAP,CAA8CN,iBAA9C,CAAf"},"metadata":{},"sourceType":"module"}